module.exports=[40020,a=>{"use strict";let b=(0,a.i(1269).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],40020)},71191,a=>{"use strict";let b=(0,a.i(1269).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],71191)},70683,a=>{"use strict";let b=(0,a.i(1269).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],70683)},85791,a=>{"use strict";let b=(0,a.i(1269).default)("git-branch",[["path",{d:"M15 6a9 9 0 0 0-9 9V3",key:"1cii5b"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}]]);a.s(["GitBranch",()=>b],85791)},12336,a=>{"use strict";let b=(0,a.i(1269).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],12336)},39138,a=>{"use strict";function b(a){return a?new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-"}function c(a){let b=a.replace(/\D/g,"");return b.startsWith("0")&&(b="62"+b.substring(1)),`https://wa.me/${b}`}function d(a){return a.split(" ").map(a=>a[0]).join("").toUpperCase().substring(0,2)}a.s(["formatDate",()=>b,"getInitials",()=>d,"getWhatsAppLink",()=>c])},19100,a=>a.a(async(b,c)=>{try{var d=a.i(7997),e=a.i(9307),f=a.i(66518);a.i(70396);var g=a.i(73727),h=a.i(95936),i=a.i(13743),j=a.i(40020),k=a.i(71191),l=a.i(98888),m=a.i(60612),n=a.i(70683),o=a.i(57682),p=a.i(85791),q=a.i(12336),r=a.i(39138),s=b([e,f]);async function t({params:a}){let{id:b,memberId:c}=await a,s=await (0,e.auth)();s?.user||(0,g.redirect)("/login");let t=await f.default.member.findUnique({where:{id:c},include:{father:{select:{id:!0,fullName:!0,photo:!0,gender:!0}},mother:{select:{id:!0,fullName:!0,photo:!0,gender:!0}},childrenAsFather:{select:{id:!0,fullName:!0,gender:!0,birthDate:!0,isAlive:!0,photo:!0},orderBy:{birthDate:"asc"}},childrenAsMother:{select:{id:!0,fullName:!0,gender:!0,birthDate:!0,isAlive:!0,photo:!0},orderBy:{birthDate:"asc"}},marriagesAsHusband:{include:{wife:{select:{id:!0,fullName:!0,photo:!0,gender:!0}}},orderBy:{marriageOrder:"asc"}},marriagesAsWife:{include:{husband:{select:{id:!0,fullName:!0,photo:!0,gender:!0}}},orderBy:{marriageOrder:"asc"}},addedBy:{select:{name:!0}}}});t||(0,g.notFound)();let u=await f.default.baniUser.findUnique({where:{baniId_userId:{baniId:b,userId:s.user.id}}});s.user.role;let v=u?.role!=="VIEWER",w=[...t.childrenAsFather,...t.childrenAsMother].filter((a,b,c)=>c.findIndex(b=>b.id===a.id)===b),x="MALE"===t.gender?t.marriagesAsHusband.map(a=>({...a.wife,marriageDate:a.marriageDate,isActive:a.isActive})):t.marriagesAsWife.map(a=>({...a.husband,marriageDate:a.marriageDate,isActive:a.isActive})),y=t.socialMedia;return(0,d.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(h.default,{href:`/dashboard/bani/${b}`,className:"touch-target p-2 rounded-xl hover:bg-surface-100 transition-colors",children:(0,d.jsx)(i.ArrowLeft,{className:"w-5 h-5 text-surface-600"})}),(0,d.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-surface-900",children:"Detail Anggota"})]}),v&&(0,d.jsxs)(h.default,{href:`/dashboard/bani/${b}/members/${c}/edit`,className:"touch-target inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-primary-200 text-primary-700 text-sm font-medium hover:bg-primary-50 transition-colors",children:[(0,d.jsx)(n.Edit,{className:"w-4 h-4"}),"Edit"]})]}),(0,d.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6",children:[(0,d.jsxs)("div",{className:"flex items-start gap-5",children:[(0,d.jsx)("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center text-2xl font-bold flex-shrink-0 ${"MALE"===t.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600"} ${!t.isAlive?"opacity-60":""}`,children:t.photo?(0,d.jsx)("img",{src:t.photo,alt:t.fullName,className:"w-20 h-20 rounded-2xl object-cover"}):(0,r.getInitials)(t.fullName)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-surface-900",children:t.fullName}),!t.isAlive&&(0,d.jsx)("span",{className:"px-2 py-0.5 rounded-lg bg-surface-100 text-surface-500 text-xs font-medium",children:"ðŸ•Šï¸ Almarhum/ah"})]}),t.nickname&&(0,d.jsxs)("p",{className:"text-sm text-surface-500 mt-0.5",children:['"',t.nickname,'"']}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 mt-3",children:[(0,d.jsx)("span",{className:`text-xs px-2.5 py-1 rounded-lg font-medium ${"MALE"===t.gender?"bg-blue-50 text-blue-700":"bg-pink-50 text-pink-700"}`,children:"MALE"===t.gender?"ðŸ‘¨ Laki-laki":"ðŸ‘© Perempuan"}),(0,d.jsxs)("span",{className:"text-xs px-2.5 py-1 rounded-lg bg-primary-50 text-primary-700 font-medium",children:["Generasi ",t.generation+1]}),t.isAlive&&(0,d.jsx)("span",{className:"text-xs px-2.5 py-1 rounded-lg bg-green-50 text-green-700 font-medium",children:"â¤ï¸ Hidup"})]})]})]}),t.bio&&(0,d.jsx)("div",{className:"mt-5 pt-5 border-t border-surface-100",children:(0,d.jsx)("p",{className:"text-sm text-surface-600 leading-relaxed",children:t.bio})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-5 space-y-3",children:[(0,d.jsxs)("h3",{className:"text-sm font-semibold text-surface-400 uppercase tracking-wider flex items-center gap-2",children:[(0,d.jsx)(m.Calendar,{className:"w-4 h-4"})," Tanggal"]}),t.birthDate&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"Tanggal Lahir"}),(0,d.jsxs)("p",{className:"text-sm text-surface-900 font-medium",children:[(0,r.formatDate)(t.birthDate),t.birthPlace?` â€” ${t.birthPlace}`:""]})]}),t.deathDate&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"Tanggal Wafat"}),(0,d.jsx)("p",{className:"text-sm text-surface-900 font-medium",children:(0,r.formatDate)(t.deathDate)})]}),!t.birthDate&&!t.deathDate&&(0,d.jsx)("p",{className:"text-sm text-surface-400",children:"Belum diisi"})]}),(0,d.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-5 space-y-3",children:[(0,d.jsxs)("h3",{className:"text-sm font-semibold text-surface-400 uppercase tracking-wider flex items-center gap-2",children:[(0,d.jsx)(k.Phone,{className:"w-4 h-4"})," Kontak"]}),t.phoneWhatsapp&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"WhatsApp"}),(0,d.jsxs)("a",{href:(0,r.getWhatsAppLink)(t.phoneWhatsapp),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-green-600 font-medium hover:text-green-500",children:[(0,d.jsx)(q.MessageCircle,{className:"w-4 h-4"}),t.phoneWhatsapp]})]}),y?.instagram&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"Instagram"}),(0,d.jsx)("p",{className:"text-sm text-surface-900",children:y.instagram})]}),y?.facebook&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"Facebook"}),(0,d.jsx)("p",{className:"text-sm text-surface-900",children:y.facebook})]}),!t.phoneWhatsapp&&!y?.instagram&&!y?.facebook&&(0,d.jsx)("p",{className:"text-sm text-surface-400",children:"Belum diisi"})]}),(t.address||t.city)&&(0,d.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-5 space-y-3 sm:col-span-2",children:[(0,d.jsxs)("h3",{className:"text-sm font-semibold text-surface-400 uppercase tracking-wider flex items-center gap-2",children:[(0,d.jsx)(l.MapPin,{className:"w-4 h-4"})," Alamat"]}),t.address&&(0,d.jsx)("p",{className:"text-sm text-surface-900",children:t.address}),t.city&&(0,d.jsxs)("p",{className:"text-sm text-surface-600",children:["ðŸ“ ",t.city]})]})]}),(0,d.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,d.jsxs)("h3",{className:"text-base font-semibold text-surface-900 flex items-center gap-2",children:[(0,d.jsx)(p.GitBranch,{className:"w-5 h-5 text-primary-500"}),"Hubungan Keluarga"]}),(t.father||t.mother)&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400 uppercase tracking-wider mb-2",children:"Orang Tua"}),(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[t.father&&(0,d.jsxs)(h.default,{href:`/dashboard/bani/${b}/members/${t.father.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-surface-50 transition-colors",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:(0,d.jsx)(j.User,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-surface-900",children:t.father.fullName}),(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"Ayah"})]})]}),t.mother&&(0,d.jsxs)(h.default,{href:`/dashboard/bani/${b}/members/${t.mother.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-surface-50 transition-colors",children:[(0,d.jsx)("div",{className:"w-10 h-10 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center",children:(0,d.jsx)(j.User,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-surface-900",children:t.mother.fullName}),(0,d.jsx)("p",{className:"text-xs text-surface-400",children:"Ibu"})]})]})]})]}),x.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-xs text-surface-400 uppercase tracking-wider mb-2",children:"Pasangan"}),(0,d.jsx)("div",{className:"flex flex-col gap-2",children:x.map(a=>(0,d.jsxs)(h.default,{href:`/dashboard/bani/${b}/members/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-surface-50 transition-colors",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"MALE"===a.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600"}`,children:(0,d.jsx)(o.Heart,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-surface-900",children:a.fullName}),(0,d.jsxs)("p",{className:"text-xs text-surface-400",children:["MALE"===t.gender?"Istri":"Suami",a.marriageDate&&` \xb7 Menikah ${new Date(a.marriageDate).getFullYear()}`]})]})]},a.id))})]}),w.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"text-xs text-surface-400 uppercase tracking-wider mb-2",children:["Anak (",w.length,")"]}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:w.map(a=>(0,d.jsxs)(h.default,{href:`/dashboard/bani/${b}/members/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-surface-50 transition-colors",children:[(0,d.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${"MALE"===a.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600"} ${!a.isAlive?"opacity-60":""}`,children:(0,d.jsx)(j.User,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium text-surface-900",children:a.fullName}),a.birthDate&&(0,d.jsxs)("p",{className:"text-xs text-surface-400",children:["Lahir ",new Date(a.birthDate).getFullYear()]})]})]},a.id))})]}),!t.father&&!t.mother&&0===x.length&&0===w.length&&(0,d.jsx)("p",{className:"text-sm text-surface-400",children:"Belum ada relasi keluarga"})]}),(0,d.jsxs)("div",{className:"text-xs text-surface-400 text-center pb-4",children:["Ditambahkan oleh ",t.addedBy?.name||"Unknown"," Â·"," ",(0,r.formatDate)(t.createdAt)]})]})}[e,f]=s.then?(await s)():s,a.s(["default",()=>t]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_7e3f5e71._.js.map