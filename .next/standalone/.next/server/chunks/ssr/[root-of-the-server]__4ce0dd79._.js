module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},15843,a=>{a.n(a.i(18357))},790,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))},84707,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js"))},97647,a=>{"use strict";a.i(790);var b=a.i(84707);a.n(b)},95936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return i},useLinkStatus:function(){return h.useLinkStatus}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(64240),g=a.r(7997),h=f._(a.r(97647));function i(a){let b=a.legacyBehavior,c="string"==typeof a.children||"number"==typeof a.children||"string"==typeof a.children?.type,d=a.children?.type?.$$typeof===Symbol.for("react.client.reference");return!b||c||d||(a.children?.type?.$$typeof===Symbol.for("react.lazy")?console.error("Using a Lazy Component as a direct child of `<Link legacyBehavior>` from a Server Component is not supported. If you need legacyBehavior, wrap your Lazy Component in a Client Component that renders the Link's `<a>` tag."):console.error("Using a Server Component as a direct child of `<Link legacyBehavior>` is not supported. If you need legacyBehavior, wrap your Server Component in a Client Component that renders the Link's `<a>` tag.")),(0,g.jsx)(h.default,{...a})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},60612,a=>{"use strict";let b=(0,a.i(1269).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],60612)},1269,a=>{"use strict";var b=a.i(717);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim(),d=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)};var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:d=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:d,height:d,stroke:a,strokeWidth:g?24*Number(f)/Number(d):f,className:c("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0;return!1})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:c(`lucide-${d(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=d(a),g};a.s(["default",()=>g],1269)},83627,a=>{"use strict";let b=(0,a.i(1269).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],83627)},28599,a=>{"use strict";let b=(0,a.i(1269).default)("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);a.s(["TreePine",()=>b],28599)},84254,a=>{"use strict";let b=(0,a.i(1269).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],84254)},86061,a=>{"use strict";let b=(0,a.i(1269).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);a.s(["Crown",()=>b],86061)},92737,26793,a=>{"use strict";var b=a.i(1269);let c=(0,b.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>c],92737);let d=(0,b.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>d],26793)},74091,a=>{"use strict";let b=(0,a.i(1269).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],74091)},56603,a=>{"use strict";let b=(0,a.i(1269).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);a.s(["Clock",()=>b],56603)},26821,a=>{"use strict";let b=(0,a.i(1269).default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["UserCheck",()=>b],26821)},99123,a=>{"use strict";var b=a.i(7997),c=a.i(9307),d=a.i(66518),e=a.i(95936),f=a.i(28599),g=a.i(83627),h=a.i(84254),i=a.i(92737),j=a.i(86061),k=a.i(60612),l=a.i(56603),m=a.i(26821),n=a.i(74091),o=a.i(26793);async function p(){let a=await (0,c.auth)();if(!a?.user)return null;let p=a.user.id,q="SUPER_ADMIN"===a.user.role||"ADMIN"===a.user.role,r=await d.default.baniUser.findMany({where:{userId:p},include:{bani:{include:{_count:{select:{members:!0}}}}},orderBy:{joinedAt:"desc"}}),s=await d.default.activityLog.findMany({where:{baniId:{in:r.map(a=>a.bani.id)}},include:{user:{select:{name:!0,avatar:!0}},bani:{select:{name:!0}}},orderBy:{createdAt:"desc"},take:q?10:5}),t=r.reduce((a,b)=>a+b.bani._count.members,0),u=null,v=[];if(q){let[a,b,c,e]=await Promise.all([d.default.user.count(),d.default.user.count({where:{status:"PENDING"}}),d.default.bani.count(),d.default.member.count()]);u={totalUsers:a,pendingCount:b,totalBanis:c,totalMembersGlobal:e},v=await d.default.user.findMany({where:{status:"PENDING"},orderBy:{createdAt:"desc"},take:5,select:{id:!0,name:!0,email:!0,createdAt:!0}})}return(0,b.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"animate-fade-in",children:[(0,b.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-surface-900",children:["Assalamualaikum,"," ",(0,b.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-600 to-primary-500",children:a.user.name})," ","ðŸ‘‹"]}),(0,b.jsx)("p",{className:"text-surface-500 mt-1",children:"Selamat datang kembali di Jejak Nasab"})]}),q&&u&&(0,b.jsxs)("div",{className:"animate-slide-up space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-gradient-to-br from-amber-50 via-gold-50 to-orange-50 border border-gold-200/60 p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-gold-500 to-amber-600 flex items-center justify-center",children:(0,b.jsx)(o.Shield,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("h2",{className:"text-sm font-bold text-gold-800 uppercase tracking-wider",children:"Panel Admin"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur rounded-xl p-3 border border-gold-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(g.Users,{className:"w-4 h-4 text-blue-500"}),(0,b.jsx)("span",{className:"text-[11px] text-surface-500 font-medium",children:"Pengguna"})]}),(0,b.jsx)("p",{className:"text-xl font-bold text-surface-900",children:u.totalUsers})]}),(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur rounded-xl p-3 border border-gold-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(l.Clock,{className:"w-4 h-4 text-gold-500"}),(0,b.jsx)("span",{className:"text-[11px] text-surface-500 font-medium",children:"Pending"})]}),(0,b.jsx)("p",{className:"text-xl font-bold text-gold-600",children:u.pendingCount})]}),(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur rounded-xl p-3 border border-gold-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(f.TreePine,{className:"w-4 h-4 text-primary-500"}),(0,b.jsx)("span",{className:"text-[11px] text-surface-500 font-medium",children:"Bani"})]}),(0,b.jsx)("p",{className:"text-xl font-bold text-surface-900",children:u.totalBanis})]}),(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur rounded-xl p-3 border border-gold-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(m.UserCheck,{className:"w-4 h-4 text-green-500"}),(0,b.jsx)("span",{className:"text-[11px] text-surface-500 font-medium",children:"Anggota"})]}),(0,b.jsx)("p",{className:"text-xl font-bold text-surface-900",children:u.totalMembersGlobal})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4",children:[(0,b.jsxs)(e.default,{href:"/admin/users",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/80 border border-gold-200 text-xs font-medium text-gold-700 hover:bg-white transition-colors",children:[(0,b.jsx)(g.Users,{className:"w-3.5 h-3.5"})," Kelola Pengguna"]}),(0,b.jsxs)(e.default,{href:"/admin/banis",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/80 border border-gold-200 text-xs font-medium text-gold-700 hover:bg-white transition-colors",children:[(0,b.jsx)(f.TreePine,{className:"w-3.5 h-3.5"})," Semua Bani"]}),(0,b.jsxs)(e.default,{href:"/dashboard/logs",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/80 border border-gold-200 text-xs font-medium text-gold-700 hover:bg-white transition-colors",children:[(0,b.jsx)(n.Activity,{className:"w-3.5 h-3.5"})," Log Aktivitas"]})]})]}),v.length>0&&(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-5 py-3 border-b border-surface-100 flex items-center justify-between bg-gold-50/50",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-surface-900 flex items-center gap-2",children:[(0,b.jsx)(l.Clock,{className:"w-4 h-4 text-gold-500"}),"Menunggu Persetujuan"]}),(0,b.jsxs)(e.default,{href:"/admin/users",className:"text-xs text-gold-600 font-medium hover:text-gold-500 flex items-center gap-1",children:["Kelola ",(0,b.jsx)(i.ArrowRight,{className:"w-3.5 h-3.5"})]})]}),(0,b.jsx)("div",{className:"divide-y divide-surface-100",children:v.map(a=>(0,b.jsxs)("div",{className:"px-5 py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gold-100 flex items-center justify-center text-gold-600 text-xs font-bold",children:a.name[0].toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-surface-900",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-surface-400",children:a.email})]})]}),(0,b.jsx)("span",{className:"text-xs text-surface-400",children:new Date(a.createdAt).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 animate-slide-up",children:[(0,b.jsxs)("div",{className:"p-5 rounded-2xl bg-white border border-surface-200 shadow-soft",children:[(0,b.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center",children:(0,b.jsx)(f.TreePine,{className:"w-5 h-5 text-primary-600"})})}),(0,b.jsx)("p",{className:"text-2xl font-bold text-surface-900",children:r.length}),(0,b.jsx)("p",{className:"text-sm text-surface-500",children:"Bani Diikuti"})]}),(0,b.jsxs)("div",{className:"p-5 rounded-2xl bg-white border border-surface-200 shadow-soft",children:[(0,b.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gold-50 flex items-center justify-center",children:(0,b.jsx)(g.Users,{className:"w-5 h-5 text-gold-600"})})}),(0,b.jsx)("p",{className:"text-2xl font-bold text-surface-900",children:t}),(0,b.jsx)("p",{className:"text-sm text-surface-500",children:"Total Anggota"})]}),(0,b.jsxs)(e.default,{href:"/dashboard/bani/create",className:"col-span-2 lg:col-span-1 p-5 rounded-2xl bg-gradient-to-br from-primary-600 to-primary-700 text-white shadow-lg shadow-primary-600/20 hover:from-primary-500 hover:to-primary-600 transition-all active:scale-[0.98]",children:[(0,b.jsx)("div",{className:"flex items-center gap-3 mb-3",children:(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:(0,b.jsx)(h.Plus,{className:"w-5 h-5 text-white"})})}),(0,b.jsx)("p",{className:"text-base font-semibold",children:"Buat Bani Baru â†’"}),(0,b.jsx)("p",{className:"text-sm text-primary-100 mt-0.5",children:"Mulai catat nasab keluarga Anda"})]})]}),(0,b.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.1s"},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-surface-900",children:"Bani Saya"}),(0,b.jsxs)(e.default,{href:"/dashboard/bani",className:"text-sm text-primary-600 hover:text-primary-500 font-medium flex items-center gap-1",children:["Lihat Semua ",(0,b.jsx)(i.ArrowRight,{className:"w-4 h-4"})]})]}),0===r.length?(0,b.jsxs)("div",{className:"p-8 rounded-2xl bg-white border border-surface-200 text-center",children:[(0,b.jsx)(f.TreePine,{className:"w-12 h-12 text-surface-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-surface-700 mb-2",children:"Belum Ada Bani"}),(0,b.jsx)("p",{className:"text-surface-500 text-sm mb-4",children:"Mulai dengan membuat bani keluarga pertama Anda"}),(0,b.jsxs)(e.default,{href:"/dashboard/bani/create",className:"touch-target inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-600 text-white font-medium hover:bg-primary-500 transition-colors",children:[(0,b.jsx)(h.Plus,{className:"w-5 h-5"}),"Buat Bani Baru"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(a=>(0,b.jsxs)(e.default,{href:`/dashboard/bani/${a.bani.id}`,className:"group p-5 rounded-2xl bg-white border border-surface-200 hover:border-primary-200 hover:shadow-lg transition-all duration-300",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center shadow-md shadow-primary-500/20",children:(0,b.jsx)(f.TreePine,{className:"w-6 h-6 text-white"})}),"ADMIN"===a.role&&(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-gold-50 text-gold-700 text-xs font-medium",children:[(0,b.jsx)(j.Crown,{className:"w-3 h-3"})," Admin"]})]}),(0,b.jsx)("h3",{className:"text-base font-semibold text-surface-900 group-hover:text-primary-700 transition-colors",children:a.bani.name}),a.bani.description&&(0,b.jsx)("p",{className:"text-sm text-surface-500 mt-1 line-clamp-2",children:a.bani.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-4 pt-3 border-t border-surface-100",children:[(0,b.jsxs)("span",{className:"text-xs text-surface-400 flex items-center gap-1",children:[(0,b.jsx)(g.Users,{className:"w-3.5 h-3.5"}),a.bani._count.members," anggota"]}),(0,b.jsxs)("span",{className:"text-xs text-surface-400 flex items-center gap-1",children:[(0,b.jsx)(k.Calendar,{className:"w-3.5 h-3.5"}),new Date(a.joinedAt).toLocaleDateString("id-ID",{month:"short",year:"numeric"})]})]})]},a.id))})]}),s.length>0&&(0,b.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-surface-900",children:"Aktivitas Terbaru"}),q&&(0,b.jsxs)(e.default,{href:"/dashboard/logs",className:"text-sm text-primary-600 hover:text-primary-500 font-medium flex items-center gap-1",children:["Semua Log ",(0,b.jsx)(i.ArrowRight,{className:"w-4 h-4"})]})]}),(0,b.jsx)("div",{className:"rounded-2xl bg-white border border-surface-200 divide-y divide-surface-100",children:s.map(a=>(0,b.jsxs)("div",{className:"p-4 flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-50 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-semibold text-primary-600",children:a.user.name[0].toUpperCase()})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-sm text-surface-700",children:[(0,b.jsx)("span",{className:"font-medium",children:a.user.name})," ",a.description||`${a.action} ${a.entityType}`]}),(0,b.jsxs)("p",{className:"text-xs text-surface-400 mt-0.5",children:[a.bani?.name," Â·"," ",new Date(a.createdAt).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})]})]})]},a.id))})]})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4ce0dd79._.js.map