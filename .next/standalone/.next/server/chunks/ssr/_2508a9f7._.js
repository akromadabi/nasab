module.exports=[63519,a=>{"use strict";let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63519)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},76472,a=>{"use strict";let b=(0,a.i(70106).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);a.s(["Heart",()=>b],76472)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},37320,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(210),g=a.i(46842),h=a.i(63519),i=a.i(96221),j=a.i(76472);function k({params:a}){let k=(0,d.useRouter)(),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)("MALE"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(!0),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)("");(0,c.useEffect)(()=>{a.then(a=>{m(a.id),Z(a.id)})},[a]);let Z=async a=>{try{let b=await fetch(`/api/members?baniId=${a}`),c=await b.json();u(c)}catch(a){console.error("Failed to fetch members:",a)}finally{q(!1)}},$=async a=>{a.preventDefault(),s(""),o(!0);try{let a={};P&&(a.instagram=P),R&&(a.facebook=R);let b=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({baniId:l,fullName:v,nickname:x||void 0,gender:z,birthDate:B||void 0,birthPlace:D||void 0,isAlive:F,deathDate:!F&&H?H:void 0,address:J||void 0,city:L||void 0,phoneWhatsapp:N||void 0,socialMedia:Object.keys(a).length>0?a:void 0,bio:T||void 0,fatherId:V||void 0,motherId:X||void 0})}),c=await b.json();if(!b.ok)return void s(c.error);k.push(`/dashboard/bani/${l}`),k.refresh()}catch{s("Terjadi kesalahan. Silakan coba lagi.")}finally{o(!1)}},_=t.filter(a=>"MALE"===a.gender),aa=t.filter(a=>"FEMALE"===a.gender);return(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,b.jsx)(e.default,{href:`/dashboard/bani/${l}`,className:"touch-target p-2 rounded-xl hover:bg-surface-100 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 text-surface-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-surface-900",children:"Tambah Anggota"}),(0,b.jsx)("p",{className:"text-sm text-surface-500",children:"Tambahkan anggota baru ke pohon nasab"})]})]}),r&&(0,b.jsx)("div",{className:"mb-6 p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:r}),(0,b.jsxs)("form",{onSubmit:$,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center",children:(0,b.jsx)(g.User,{className:"w-5 h-5 text-primary-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Data Dasar"}),(0,b.jsx)("p",{className:"text-xs text-surface-400",children:"Informasi identitas anggota"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:["Nama Lengkap ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:v,onChange:a=>w(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"Nama lengkap",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Nama Panggilan"}),(0,b.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"Panggilan sehari-hari"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:["Jenis Kelamin ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>A("MALE"),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${"MALE"===z?"border-blue-500 bg-blue-50 text-blue-700":"border-surface-200 text-surface-500 hover:bg-surface-50"}`,children:"ðŸ‘¨ Laki-laki"}),(0,b.jsx)("button",{type:"button",onClick:()=>A("FEMALE"),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${"FEMALE"===z?"border-pink-500 bg-pink-50 text-pink-700":"border-surface-200 text-surface-500 hover:bg-surface-50"}`,children:"ðŸ‘© Perempuan"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Tanggal Lahir"}),(0,b.jsx)("input",{type:"date",value:B,onChange:a=>C(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Tempat Lahir"}),(0,b.jsx)("input",{type:"text",value:D,onChange:a=>E(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all",placeholder:"Kota kelahiran"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Status"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{G(!0),I("")},className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${F?"border-green-500 bg-green-50 text-green-700":"border-surface-200 text-surface-500 hover:bg-surface-50"}`,children:"â¤ï¸ Masih Hidup"}),(0,b.jsx)("button",{type:"button",onClick:()=>G(!1),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${!F?"border-surface-500 bg-surface-100 text-surface-700":"border-surface-200 text-surface-500 hover:bg-surface-50"}`,children:"ðŸ•Šï¸ Sudah Wafat"})]})]}),!F&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Tanggal Wafat"}),(0,b.jsx)("input",{type:"date",value:H,onChange:a=>I(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all"})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gold-50 flex items-center justify-center",children:(0,b.jsx)(j.Heart,{className:"w-5 h-5 text-gold-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Relasi Keluarga"}),(0,b.jsx)("p",{className:"text-xs text-surface-400",children:"Hubungkan dengan orang tua"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Ayah"}),(0,b.jsxs)("select",{value:V,onChange:a=>W(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 bg-white",disabled:p,children:[(0,b.jsx)("option",{value:"",children:"-- Pilih Ayah --"}),_.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.fullName," (Gen. ",a.generation+1,")"]},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Ibu"}),(0,b.jsxs)("select",{value:X,onChange:a=>Y(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 bg-white",disabled:p,children:[(0,b.jsx)("option",{value:"",children:"-- Pilih Ibu --"}),aa.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.fullName," (Gen. ",a.generation+1,")"]},a.id))]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center",children:(0,b.jsx)(h.Phone,{className:"w-5 h-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Kontak & Alamat"}),(0,b.jsx)("p",{className:"text-xs text-surface-400",children:"Informasi kontak untuk silaturahmi"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"No. WhatsApp"}),(0,b.jsx)("input",{type:"tel",value:N,onChange:a=>O(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"08xxxxxxxxxx"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Instagram"}),(0,b.jsx)("input",{type:"text",value:P,onChange:a=>Q(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all",placeholder:"@username"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Facebook"}),(0,b.jsx)("input",{type:"text",value:R,onChange:a=>S(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all",placeholder:"Nama Facebook"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Alamat"}),(0,b.jsx)("input",{type:"text",value:J,onChange:a=>K(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"Alamat lengkap"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Kota"}),(0,b.jsx)("input",{type:"text",value:L,onChange:a=>M(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"Kota domisili"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Bio / Catatan"}),(0,b.jsx)("textarea",{value:T,onChange:a=>U(a.target.value),rows:2,className:"w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base resize-none",placeholder:"Catatan tentang anggota ini"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pb-8",children:[(0,b.jsx)(e.default,{href:`/dashboard/bani/${l}`,className:"touch-target flex-1 py-3.5 rounded-xl border border-surface-200 text-surface-600 font-medium text-center hover:bg-surface-50 transition-colors",children:"Batal"}),(0,b.jsx)("button",{type:"submit",disabled:n,className:"touch-target flex-1 py-3.5 rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold hover:from-primary-500 hover:to-primary-600 transition-all shadow-lg shadow-primary-600/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"w-5 h-5 animate-spin"}),"Menyimpan..."]}):"Simpan Anggota"})]})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_2508a9f7._.js.map