module.exports=[63519,a=>{"use strict";let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);a.s(["Phone",()=>b],63519)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},76472,a=>{"use strict";let b=(0,a.i(70106).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);a.s(["Heart",()=>b],76472)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},60271,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(210),g=a.i(46842),h=a.i(63519),i=a.i(76472),j=a.i(96221),k=a.i(81560);function l({params:a}){let l=(0,d.useRouter)(),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("MALE"),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(!0),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)("");(0,c.useEffect)(()=>{a.then(a=>{n(a.id),p(a.memberId),ac(a.id,a.memberId)})},[a]);let ac=async(a,b)=>{try{let[c,d]=await Promise.all([fetch(`/api/members/${b}`),fetch(`/api/members?baniId=${a}`)]),e=await c.json(),f=await d.json();B(e.fullName),D(e.nickname||""),F(e.gender),H(e.birthDate?e.birthDate.split("T")[0]:""),J(e.birthPlace||""),L(e.isAlive),N(e.deathDate?e.deathDate.split("T")[0]:""),P(e.address||""),R(e.city||""),T(e.phoneWhatsapp||""),V(e.socialMedia?.instagram||""),X(e.socialMedia?.facebook||""),Z(e.bio||""),_(e.fatherId||""),ab(e.motherId||""),z(f.filter(a=>a.id!==b))}catch(a){console.error("Failed to fetch:",a),x("Gagal memuat data")}finally{r(!1)}},ad=async a=>{a.preventDefault(),x(""),t(!0);try{let a={};U&&(a.instagram=U),W&&(a.facebook=W);let b=await fetch(`/api/members/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:A,nickname:C||void 0,gender:E,birthDate:G||void 0,birthPlace:I||void 0,isAlive:K,deathDate:!K&&M?M:void 0,address:O||void 0,city:Q||void 0,phoneWhatsapp:S||void 0,socialMedia:Object.keys(a).length>0?a:void 0,bio:Y||void 0,fatherId:$||void 0,motherId:aa||void 0})}),c=await b.json();if(!b.ok)return void x(c.error);l.push(`/dashboard/bani/${m}/members/${o}`),l.refresh()}catch{x("Terjadi kesalahan. Silakan coba lagi.")}finally{t(!1)}},ae=async()=>{if(confirm("Apakah Anda yakin ingin menghapus anggota ini? Tindakan ini tidak dapat dibatalkan.")){v(!0);try{let a=await fetch(`/api/members/${o}`,{method:"DELETE"});if(!a.ok){let b=await a.json();x(b.error);return}l.push(`/dashboard/bani/${m}`),l.refresh()}catch{x("Gagal menghapus anggota")}finally{v(!1)}}},af=y.filter(a=>"MALE"===a.gender),ag=y.filter(a=>"FEMALE"===a.gender);return q?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,b.jsx)(j.Loader2,{className:"w-8 h-8 animate-spin text-primary-500"})}):(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,b.jsx)(e.default,{href:`/dashboard/bani/${m}/members/${o}`,className:"touch-target p-2 rounded-xl hover:bg-surface-100 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 text-surface-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-surface-900",children:"Edit Anggota"}),(0,b.jsxs)("p",{className:"text-sm text-surface-500",children:["Ubah data ",A]})]})]}),w&&(0,b.jsx)("div",{className:"mb-6 p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:w}),(0,b.jsxs)("form",{onSubmit:ad,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center",children:(0,b.jsx)(g.User,{className:"w-5 h-5 text-primary-600"})}),(0,b.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Data Dasar"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:["Nama Lengkap ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:A,onChange:a=>B(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Nama Panggilan"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Jenis Kelamin"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>F("MALE"),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${"MALE"===E?"border-blue-500 bg-blue-50 text-blue-700":"border-surface-200 text-surface-500"}`,children:"ðŸ‘¨ Laki-laki"}),(0,b.jsx)("button",{type:"button",onClick:()=>F("FEMALE"),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${"FEMALE"===E?"border-pink-500 bg-pink-50 text-pink-700":"border-surface-200 text-surface-500"}`,children:"ðŸ‘© Perempuan"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Tanggal Lahir"}),(0,b.jsx)("input",{type:"date",value:G,onChange:a=>H(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Tempat Lahir"}),(0,b.jsx)("input",{type:"text",value:I,onChange:a=>J(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Status"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{L(!0),N("")},className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${K?"border-green-500 bg-green-50 text-green-700":"border-surface-200 text-surface-500"}`,children:"â¤ï¸ Masih Hidup"}),(0,b.jsx)("button",{type:"button",onClick:()=>L(!1),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${!K?"border-surface-500 bg-surface-100 text-surface-700":"border-surface-200 text-surface-500"}`,children:"ðŸ•Šï¸ Sudah Wafat"})]})]}),!K&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Tanggal Wafat"}),(0,b.jsx)("input",{type:"date",value:M,onChange:a=>N(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all"})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gold-50 flex items-center justify-center",children:(0,b.jsx)(i.Heart,{className:"w-5 h-5 text-gold-600"})}),(0,b.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Relasi Keluarga"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Ayah"}),(0,b.jsxs)("select",{value:$,onChange:a=>_(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 bg-white",children:[(0,b.jsx)("option",{value:"",children:"-- Pilih Ayah --"}),af.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.fullName," (Gen. ",a.generation+1,")"]},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Ibu"}),(0,b.jsxs)("select",{value:aa,onChange:a=>ab(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 bg-white",children:[(0,b.jsx)("option",{value:"",children:"-- Pilih Ibu --"}),ag.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.fullName," (Gen. ",a.generation+1,")"]},a.id))]})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center",children:(0,b.jsx)(h.Phone,{className:"w-5 h-5 text-green-600"})}),(0,b.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Kontak & Alamat"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"No. WhatsApp"}),(0,b.jsx)("input",{type:"tel",value:S,onChange:a=>T(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all text-base",placeholder:"08xxxxxxxxxx"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Instagram"}),(0,b.jsx)("input",{type:"text",value:U,onChange:a=>V(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all",placeholder:"@username"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Facebook"}),(0,b.jsx)("input",{type:"text",value:W,onChange:a=>X(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Alamat"}),(0,b.jsx)("input",{type:"text",value:O,onChange:a=>P(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all text-base"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Kota"}),(0,b.jsx)("input",{type:"text",value:Q,onChange:a=>R(a.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all text-base"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Bio / Catatan"}),(0,b.jsx)("textarea",{value:Y,onChange:a=>Z(a.target.value),rows:2,className:"w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 focus:outline-none focus:border-primary-500 transition-all text-base resize-none"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pb-8",children:[(0,b.jsx)("button",{type:"button",onClick:ae,disabled:u,className:"touch-target px-4 py-3.5 rounded-xl border border-red-200 text-red-600 font-medium hover:bg-red-50 transition-colors disabled:opacity-50 flex items-center gap-2",children:u?(0,b.jsx)(j.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(k.Trash2,{className:"w-4 h-4"})}),(0,b.jsx)(e.default,{href:`/dashboard/bani/${m}/members/${o}`,className:"touch-target flex-1 py-3.5 rounded-xl border border-surface-200 text-surface-600 font-medium text-center hover:bg-surface-50 transition-colors",children:"Batal"}),(0,b.jsx)("button",{type:"submit",disabled:s,className:"touch-target flex-1 py-3.5 rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold hover:from-primary-500 hover:to-primary-600 transition-all shadow-lg shadow-primary-600/20 disabled:opacity-50 flex items-center justify-center gap-2",children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Loader2,{className:"w-5 h-5 animate-spin"})," Menyimpan..."]}):"Simpan Perubahan"})]})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_f72e2981._.js.map