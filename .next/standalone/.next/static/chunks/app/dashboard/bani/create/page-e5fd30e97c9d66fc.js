(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9351],{6296:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(90425).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},25799:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var t=a(95155),s=a(12115),l=a(73321),i=a(98500),n=a.n(i),c=a(80723),o=a(74055),d=a(42869),u=a(6296);function x(){let e=(0,l.useRouter)(),[r,a]=(0,s.useState)(""),[i,x]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[f,b]=(0,s.useState)("MALE"),[p,g]=(0,s.useState)(!1),[j,y]=(0,s.useState)(""),N=async a=>{a.preventDefault(),y(""),g(!0);try{let a=await fetch("/api/banis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,description:i,rootMemberName:m,rootMemberGender:f})}),t=await a.json();if(!a.ok)return void y(t.error);e.push(`/dashboard/bani/${t.bani.id}`),e.refresh()}catch{y("Terjadi kesalahan. Silakan coba lagi.")}finally{g(!1)}};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,t.jsx)(n(),{href:"/dashboard",className:"touch-target p-2 rounded-xl hover:bg-surface-100 transition-colors",children:(0,t.jsx)(c.A,{className:"w-5 h-5 text-surface-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-surface-900",children:"Buat Bani Baru"}),(0,t.jsx)("p",{className:"text-sm text-surface-500",children:"Mulai buat catatan silsilah keluarga"})]})]}),j&&(0,t.jsx)("div",{className:"mb-6 p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm",children:j}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary-50 flex items-center justify-center",children:(0,t.jsx)(o.A,{className:"w-5 h-5 text-primary-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Informasi Bani"}),(0,t.jsx)("p",{className:"text-xs text-surface-400",children:"Data dasar tentang bani keluarga"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:["Nama Bani ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>a(e.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"Contoh: Bani H. Ahmad Dahlan",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Deskripsi"}),(0,t.jsx)("textarea",{value:i,onChange:e=>x(e.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base resize-none",placeholder:"Deskripsi singkat tentang keluarga besar ini"})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white border border-surface-200 p-6 space-y-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-surface-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gold-50 flex items-center justify-center",children:(0,t.jsx)(d.A,{className:"w-5 h-5 text-gold-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-surface-900",children:"Leluhur (Asal Nasab)"}),(0,t.jsx)("p",{className:"text-xs text-surface-400",children:"Orang pertama di puncak pohon nasab"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Nama Lengkap Leluhur"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),className:"touch-target w-full px-4 py-3 rounded-xl border border-surface-200 text-surface-900 placeholder-surface-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all text-base",placeholder:"Contoh: H. Ahmad Dahlan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-surface-700 mb-2",children:"Jenis Kelamin"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>b("MALE"),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${"MALE"===f?"border-blue-500 bg-blue-50 text-blue-700":"border-surface-200 text-surface-500 hover:bg-surface-50"}`,children:"\uD83D\uDC68 Laki-laki"}),(0,t.jsx)("button",{type:"button",onClick:()=>b("FEMALE"),className:`touch-target flex-1 py-3 rounded-xl border text-sm font-medium transition-all ${"FEMALE"===f?"border-pink-500 bg-pink-50 text-pink-700":"border-surface-200 text-surface-500 hover:bg-surface-50"}`,children:"\uD83D\uDC69 Perempuan"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(n(),{href:"/dashboard",className:"touch-target flex-1 py-3.5 rounded-xl border border-surface-200 text-surface-600 font-medium text-center hover:bg-surface-50 transition-colors",children:"Batal"}),(0,t.jsx)("button",{type:"submit",disabled:p,className:"touch-target flex-1 py-3.5 rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold hover:from-primary-500 hover:to-primary-600 transition-all shadow-lg shadow-primary-600/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"w-5 h-5 animate-spin"}),"Membuat..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"w-5 h-5"}),"Buat Bani"]})})]})]})]})}},37795:(e,r,a)=>{Promise.resolve().then(a.bind(a,25799))},42869:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(90425).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},73321:(e,r,a)=>{"use strict";var t=a(74645);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}})},74055:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(90425).A)("tree-pine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]])},80723:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});let t=(0,a(90425).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},90425:(e,r,a)=>{"use strict";a.d(r,{A:()=>c});var t=a(12115);let s=(...e)=>e.filter((e,r,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===r).join(" ").trim(),l=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:c,iconNode:o,...d},u)=>(0,t.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:l?24*Number(a)/Number(r):a,className:s("lucide",n),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...o.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]])),c=(e,r)=>{let a=(0,t.forwardRef)(({className:a,...i},c)=>(0,t.createElement)(n,{ref:c,iconNode:r,className:s(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...i}));return a.displayName=l(e),a}}},e=>{e.O(0,[8500,8441,3794,7358],()=>e(e.s=37795)),_N_E=e.O()}]);